# دليل نشر الموقع على Netlify

## ملاحظة مهمة

**تنبيه:** هذا المشروع يستخدم قاعدة بيانات MySQL/TiDB وواجهات خلفية (Backend) مع Express و tRPC. Netlify مخصص للمواقع الثابتة (Static Sites) ولا يدعم تشغيل خوادم Node.js بشكل كامل.

**التوصية:** استخدام منصة Manus المدمجة للنشر بدلاً من Netlify، حيث توفر:
- استضافة كاملة للواجهة الأمامية والخلفية
- قاعدة بيانات مدمجة
- دعم النطاقات المخصصة
- سهولة النشر بضغطة زر واحدة

## كيفية النشر على Manus

1. **من واجهة Manus:**
   - انقر على زر "Publish" في أعلى يمين لوحة التحكم
   - سيتم نشر الموقع تلقائياً مع جميع الميزات
   - ستحصل على رابط مباشر للموقع المنشور

2. **إعداد النطاق المخصص (اختياري):**
   - اذهب إلى Settings → Domains
   - يمكنك تعديل النطاق الفرعي (xxx.manus.space)
   - أو شراء نطاق جديد مباشرة من Manus
   - أو ربط نطاقك الحالي

## البدائل لـ Netlify

إذا كنت تريد استخدام منصة خارجية، إليك البدائل المناسبة:

### 1. Vercel (موصى به)
```bash
# تثبيت Vercel CLI
npm i -g vercel

# النشر
vercel
```

### 2. Railway
- يدعم قواعد البيانات والخوادم
- سهل الاستخدام
- رابط: https://railway.app

### 3. Render
- يدعم Node.js وقواعد البيانات
- خطة مجانية متاحة
- رابط: https://render.com

## إذا أردت استخدام Netlify رغم القيود

يمكنك نشر الواجهة الأمامية فقط على Netlify، لكن ستحتاج إلى:

1. **نشر الواجهة الخلفية على منصة أخرى:**
   - استخدم Railway أو Render للواجهة الخلفية
   - احصل على رابط API الخاص بالواجهة الخلفية

2. **تعديل إعدادات الواجهة الأمامية:**
   - قم بتحديث ملف `client/src/lib/trpc.ts` ليشير إلى رابط API الخارجي
   - قم ببناء الواجهة الأمامية فقط: `pnpm build`

3. **النشر على Netlify:**
   ```bash
   # تثبيت Netlify CLI
   npm i -g netlify-cli
   
   # النشر
   netlify deploy --prod --dir=dist
   ```

## المتطلبات البيئية

عند النشر على أي منصة، تأكد من إضافة المتغيرات البيئية التالية:

```
DATABASE_URL=your_mysql_connection_string
JWT_SECRET=your_jwt_secret
VITE_APP_ID=your_app_id
OAUTH_SERVER_URL=https://api.manus.im
VITE_OAUTH_PORTAL_URL=https://manus.im/oauth
```

## الخلاصة

**الخيار الأفضل:** استخدام منصة Manus المدمجة للحصول على تجربة نشر سلسة ومتكاملة دون الحاجة لإعدادات معقدة.

**الخيار البديل:** إذا كنت تفضل منصة خارجية، استخدم Vercel أو Railway بدلاً من Netlify لأنها تدعم المشاريع Full-Stack.
